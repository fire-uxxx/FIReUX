import{_ as U,a as I}from"./B_jGyAc5.js";import{j as A,c as f,e as i,g as o,h as c,U as N,t as C,ak as H,aQ as B,P as _,I as s,a3 as D,w as $,C as R,S as E,v as M,aR as T,aq as V,aS as q,G as w,f as G,aT as O,aU as L,H as K}from"./CoChPsuk.js";import{_ as P}from"./rWiUKgwz.js";import"./Cu7MOA1W.js";const j={class:"subheader"},z={class:"subheader-title"},Q={__name:"LayoutsSubHeader",props:{title:{type:String,required:!0},icon:{type:String,default:"i-lucide-info"}},setup(u){return(e,r)=>{const n=N;return i(),f("div",j,[o(n,{name:u.icon,class:"subheader-icon"},null,8,["name"]),c("h2",z,C(u.title),1)])}}},W=A(Q,[["__scopeId","data-v-6f24d68e"]]),F={key:0},J={key:1},X={key:2},Y={__name:"LayoutsDashboardGuard",async setup(u){let e,r;const n=([e,r]=H(()=>B()),e=await e,r(),e),d=_(()=>n!==null),y=_(()=>n&&!n.isAnonymous);return(b,a)=>{const k=P,v=E;return s(d)?s(y)?(i(),f("div",J,[D(b.$slots,"default",{},void 0,!0)])):(i(),f("div",X,[a[1]||(a[1]=c("p",{class:"access-denied"}," Access denied: Anonymous user or insufficient permissions. ",-1)),o(v,{to:"/auth",block:""},{default:$(()=>a[0]||(a[0]=[R("Create Account")])),_:1})])):(i(),f("div",F,[o(k)]))}}},Z=A(Y,[["__scopeId","data-v-98b31039"]]),tt={class:"layout-wrapper"},et={class:"layout-content"},st={class:"layout-main-content"},nt={class:"main-section"},ot={__name:"dashboard",setup(u){const e=M(),{width:r}=T(),n=_(()=>r.value<1024),{user:d}=V(),{appLinks:y,mobileLinks:b}=q(),a=_(()=>{var l,m;const t=(l=d.value)==null?void 0:l.roles,S=(m=d.value)==null?void 0:m.isAdmin;if(Array.isArray(t)&&t.length){const p=new Map;for(const x of t)(ROLE_LINKS[x]||[]).forEach(h=>p.set(h.path,h));return Array.from(p.values())}return S?[L.user,L.admin]:L.user}),k=_(()=>{var t;return((t=e.meta)==null?void 0:t.title)||"Dashboard"}),v=_(()=>{var t;return((t=e.meta)==null?void 0:t.icon)||"i-lucide-layout-dashboard"});return(t,S)=>{const l=U,m=I,p=W,x=O,g=Z,h=K;return i(),w(h,null,{default:$(()=>[c("div",tt,[o(l,{"app-links":s(y),"mobile-links":s(b)},null,8,["app-links","mobile-links"]),c("div",et,[c("main",st,[s(n)?G("",!0):(i(),w(m,{key:0,class:"mt-[var(--header-height)] w-fit",orientation:"vertical",items:s(a)},null,8,["items"])),c("div",nt,[o(p,{icon:s(v),title:s(k)},null,8,["icon","title"]),o(g,null,{default:$(()=>[o(x)]),_:1})])])])])]),_:1})}}},rt=A(ot,[["__scopeId","data-v-ad164e5e"]]);export{rt as default};
