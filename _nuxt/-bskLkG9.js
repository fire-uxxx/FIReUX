import{a as d}from"./D_yp_cz6.js";import{N as n,q as i}from"./B5KPFDU5.js";function l(){const r=n(),{public:{APP_ID:t}}=i();async function o(e,u="products"){const{currency:c}=w();if(!r.value)throw new Error("[useProductCreate] No user");if(!t)throw new Error("[useProductCreate] No APP_ID");const s=r.value.uid,a={...e,currency:c};return await $fetch("/api/stripe/create-product",{method:"POST",body:{userId:s,appId:t,collection:u,product:a}})}return{createProduct:o}}function p(){async function r(t,o){}return{updateProduct:r}}function f(){const r=n();async function t(o){if(!o)throw new Error("No product slug provided.");if(!r.value)throw new Error("No authenticated user found.");try{const e=await $fetch("/api/stripe/delete-product",{method:"POST",body:{slug:o,userId:r.value.uid}});if(e.success)return console.log("✅ Product Deleted Successfully"),!0;throw console.error("❌ Error Deleting Product:",e.error||"Unknown error"),new Error(e.error||"Unknown error")}catch(e){throw console.error("❌ Error Deleting Product:",e),e}}return{deleteProduct:t}}function P(){function r(t){return t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")}return{generateSlug:r}}function w(){const{firestoreFetchCollection:r,firestoreFetchDoc:t}=d(),{collectionData:o}=r("products");function e(c){return t("products",c)}return{currency:"EUR",productsCollection:o,fetchProduct:e,...l(),...p(),...f(),...P()}}export{l as a,w as u};
