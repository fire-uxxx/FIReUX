import{N as a,ad as d,ae as l,af as f,ag as i,ah as m}from"./C5oDoaUr.js";function P(){const{collectionData:o}=firestoreFetchCollection("blogs");function r(n){return firestoreFetchDoc("blogs",n)}return{blogsCollection:o,fetchBlogPost:r}}function h(){const o=a(),{addSluggedDocument:r}=d(),n=t=>t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""),e={keywords:["FireUX","UX","Web Development","Firebase"],tags:["FireUX","Web Development"],canonicalUrl:"",featuredImage:"/img/logo-type-dark.png",socialImage:"/img/logo-type-dark.png",readingTime:"3 min"};async function s(t){if(!t.title)return Promise.reject("[createBlogPost] Title is required.");const u=t.slug||n(t.title);if(!o.value)return Promise.reject("No authenticated user");const g={metaDescription:t.metaDescription||t.content.slice(0,160),keywords:t.keywords||e.keywords,tags:t.tags||e.tags,canonicalUrl:t.canonicalUrl||e.canonicalUrl,featuredImage:t.featuredImage||e.featuredImage,socialImage:t.socialImage||e.socialImage,readingTime:t.readingTime||e.readingTime};try{const c=await r("blogs",{...t,slug:u,userId:o.value.uid,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),author:o.value.displayName||"Anonymous",...g});return console.log(`Blog post created with slug: ${c}`),c}catch(c){throw console.error("[createBlogPost] Error creating blog post:",c),c}}return{createBlogPost:s}}function w(){const o=l(),r=a();async function n(e){if(!e)throw new Error("No blog post ID provided.");return r.value?await f(i(o,"blogs",e)).then(()=>(console.log("✅ Blog Post Deleted Successfully"),!0)):Promise.reject("No authenticated user")}return{deleteBlogPost:n}}function y(){const o=l(),r=a();async function n(e,s){if(!e)throw new Error("No BlogPost ID provided.");if(!s||typeof s!="object")throw new Error("Invalid update payload. Must be an object.");return r.value?await m(i(o,"blogs",e),s).then(()=>(console.log(`✅ BlogPost Updated Successfully: ${JSON.stringify(s)}`),!0)):Promise.reject("No authenticated user")}return{updateBlogPost:n}}function B(){const o=P(),r=h(),n=w(),e=y();return{...o,...r,...n,...e}}export{B as u};
