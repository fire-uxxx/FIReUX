import{_ as k}from"./BTPnHBeE.js";import{u as y}from"./CXiE4mg0.js";import{S as v,aR as x,aT as w,r as I,bf as C,d as n,e as c,f as N,h as o,H as u,F as $,M as O,n as b,t as r,_ as B,B as P,g,w as M,v as S}from"./Bj7_qyUA.js";const T={class:"product-prices"},U={key:0},V=["onClick"],F=v({__name:"Prices",props:x({productId:{}},{selectedIndex:{default:0},selectedIndexModifiers:{}}),emits:["update:selectedIndex"],async setup(i){let t,e;const a=i,d=w(i,"selectedIndex"),s=I([]),{fetchProductPrices:l}=y();s.value=([t,e]=C(()=>l(a.productId)),t=await t,e(),t);function p(_,h){return new Intl.NumberFormat("en-US",{style:"currency",currency:h.toUpperCase()}).format(_/100)}return(_,h)=>(c(),n("div",T,[u(s).length===0?(c(),n("div",U,"No price available")):N("",!0),(c(!0),n($,null,O(u(s),(m,f)=>(c(),n("div",{key:f,class:b(["price-option",{selected:d.value===f}]),onClick:Q=>d.value=f},r(p(m.unit_amount,m.currency))+" - "+r(m.type),11,V))),128)),o("pre",null,r(JSON.stringify(u(s),null,2)),1)]))}}),H=Object.assign(B(F,[["__scopeId","data-v-f0de4a74"]]),{__name:"OrganismsProductCardsPrices"}),L={class:"product-page"},j={class:"product-header"},A=["src","alt"],R={class:"product-summary"},z={class:"product-title"},D={class:"product-description"},E=["innerHTML"],J=v({__name:"Page",props:{product:{}},setup(i){const t=I(0);return(e,a)=>{const d=k,s=H;return c(),n($,null,[P(r(e.product)+" ",1),o("div",L,[o("div",j,[o("img",{class:"product-image",src:e.product.image,alt:e.product.name},null,8,A),o("div",R,[o("h1",z,r(e.product.name),1),g(d,{color:e.product.active?"success":"warning",variant:"subtle"},{default:M(()=>[P(r(e.product.active?"Active":"Inactive"),1)]),_:1},8,["color"]),o("p",D,r(e.product.description),1),g(s,{productId:e.product.id,selectedIndex:t.value,"onUpdate:selectedIndex":a[0]||(a[0]=l=>t.value=l)},null,8,["productId","selectedIndex"])])]),o("div",{class:"product-content",innerHTML:e.product.content},null,8,E)])],64)}}}),q=Object.assign(J,{__name:"OrganismsProductCardsPage"}),G={key:0,class:"page"},K={key:1},Z=v({__name:"[slug]",async setup(i){let t,e;const a=S(),{fetchProductBySlug:d}=y(),s=([t,e]=C(()=>d(a.params.slug)),t=await t,e(),t);return(l,p)=>{const _=q;return u(s)?(c(),n("div",G,[g(_,{product:u(s)},null,8,["product"])])):(c(),n("div",K,p[0]||(p[0]=[o("h1",null,"404 â€“ Product not found",-1)])))}}});export{Z as default};
