import{a as d}from"./BSIJ0IGl.js";import{N as u,q as a}from"./DLnnSrV4.js";var n=(r=>(r.Physical="physical",r.Digital="digital",r.Service="service",r))(n||{});function l(){const r=u(),{public:{APP_ID:t}}=a();async function o(e,c="products"){if(!r.value)throw new Error("[useProductCreate] No user");if(!t)throw new Error("[useProductCreate] No APP_ID");const s=r.value.uid,i={...{slug:"",name:"Untitled Product",description:"No description provided.",price:0,currency:"USD",image:"/img/default-product.png",galleryImages:[],active:!0,metadata:{},prices:[],productType:n.Physical,secondaryText:"",stock:0},...e};return await $fetch("/api/stripe/create-product",{method:"POST",body:{userId:s,appId:t,collection:c,product:i}})}return{createProduct:o}}function p(){async function r(t,o){}return{updateProduct:r}}function f(){const r=u();async function t(o){if(!o)throw new Error("No product slug provided.");if(!r.value)throw new Error("No authenticated user found.");try{const e=await $fetch("/api/stripe/delete-product",{method:"POST",body:{slug:o,userId:r.value.uid}});if(e.success)return console.log("✅ Product Deleted Successfully"),!0;throw console.error("❌ Error Deleting Product:",e.error||"Unknown error"),new Error(e.error||"Unknown error")}catch(e){throw console.error("❌ Error Deleting Product:",e),e}}return{deleteProduct:t}}function P(){function r(t){return t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")}return{generateSlug:r}}function y(){const{firestoreFetchCollection:r,firestoreFetchDoc:t}=d();function o(){return r("products")}function e(c){return t("products",c)}return{fetchProducts:o,fetchProductById:e,...l(),...p(),...f(),...P()}}export{y as u};
