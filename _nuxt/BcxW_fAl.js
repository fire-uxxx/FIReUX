import{d as V,r as b,P as x,Y as M,c as o,i as n,f as r,g as s,t as m,F as S,R as A,Z as O,U as W,$ as G,j as U,a0 as I,G as R,w as y,S as j,I as e,o as H,H as K,q as Y,C as L,e as q,a1 as z,a2 as Q}from"./B5KPFDU5.js";import{_ as Z,a as J,Q as X,p as ee}from"./CVrFM-Jr.js";import{_ as te}from"./CQMcwfr1.js";import{U as ne}from"./DKGvG6sR.js";import{u as oe,a as se,b as ae}from"./CW3-flro.js";import{_ as le}from"./C3A30Nou.js";import{u as ie}from"./D-Ku2Qx6.js";import"./Cpj98o6Y.js";import"./D_yp_cz6.js";const re={class:"form-field"},ce={key:0,class:"display"},de={key:1,class:"editing"},ue={class:"input-group add-group"},_e=V({__name:"ArrayOfStrings",props:{label:{type:String,required:!0},modelValue:{type:Array,default:()=>[]},itemPlaceholder:{type:String,default:"Item"},newItemPlaceholder:{type:String,default:"Add new item"}},emits:["update:modelValue"],setup(f,{emit:t}){const p=f,i=t,c=b(!1),l=b([...p.modelValue]),d=b(""),g=b(""),w=x(()=>l.value.length>0),u=x(()=>l.value.join(" | "));M(()=>p.modelValue,h=>{l.value=[...h]},{immediate:!0});function _(){g.value="",l.value=[...p.modelValue],c.value=!0}function a(){l.value=[...p.modelValue],c.value=!1}function k(){i("update:modelValue",[...l.value]),console.log("[ArrayOfStrings] Updated:",l.value),c.value=!1}function v(){l.value=[],i("update:modelValue",[]),console.log("[ArrayOfStrings] Cleared"),c.value=!1}function C(){const h=d.value.trim();if(!h){g.value="Item cannot be empty.";return}l.value.includes(h)||l.value.push(h),d.value=""}function $(h){l.value.splice(h,1)}return(h,P)=>{const N=te,T=O,D=W;return n(),o("div",re,[r(N,{label:f.label,"is-editing":c.value,"has-data":w.value,"error-message":g.value,onStartEditing:_,onCheck:k,onCancel:a,onDelete:v},null,8,["label","is-editing","has-data","error-message"]),c.value?(n(),o("div",de,[(n(!0),o(S,null,A(l.value,(F,B)=>(n(),o("div",{key:B,class:"input-group"},[r(T,{modelValue:l.value[B],"onUpdate:modelValue":E=>l.value[B]=E,placeholder:f.itemPlaceholder,class:"w-full"},null,8,["modelValue","onUpdate:modelValue","placeholder"]),r(D,{name:"lucide:x-circle",class:"cursor-pointer",onClick:E=>$(B)},null,8,["onClick"])]))),128)),s("div",ue,[r(T,{modelValue:d.value,"onUpdate:modelValue":P[0]||(P[0]=F=>d.value=F),placeholder:f.newItemPlaceholder,class:"w-full",onKeyup:G(C,["enter"])},null,8,["modelValue","placeholder"]),r(D,{name:"lucide:plus-circle",class:"cursor-pointer",onClick:C})])])):(n(),o("div",ce,[s("span",null,m(u.value),1)]))])}}}),me=Object.assign(U(_e,[["__scopeId","data-v-2b4f306b"]]),{__name:"MoleculesFormsArrayOfStrings"}),pe={class:"advanced-settings"},ge={class:"input-with-prefix"},ve={class:"input-with-prefix"},ye=V({__name:"Advanced",setup(f){const t=I("createBlogPost");return(p,i)=>{const c=j,l=O,d=Z,g=me,w=ne;return n(),R(w,null,{content:y(()=>[s("div",pe,[r(d,{label:"Meta Description"},{default:y(()=>[r(l,{modelValue:e(t).metaDescription,"onUpdate:modelValue":i[0]||(i[0]=u=>e(t).metaDescription=u),placeholder:"A short summary for SEO"},null,8,["modelValue"])]),_:1}),r(g,{modelValue:e(t).keywords,"onUpdate:modelValue":i[1]||(i[1]=u=>e(t).keywords=u),label:"Keywords","item-placeholder":"Keyword","new-item-placeholder":"Add new keyword"},null,8,["modelValue"]),r(g,{modelValue:e(t).tags,"onUpdate:modelValue":i[2]||(i[2]=u=>e(t).tags=u),label:"Tags","item-placeholder":"Tag","new-item-placeholder":"Add new tag"},null,8,["modelValue"]),r(d,{label:"Canonical URL"},{default:y(()=>[s("div",ge,[i[6]||(i[6]=s("span",{class:"prefix"},"https://",-1)),r(l,{modelValue:e(t).canonicalUrl,"onUpdate:modelValue":i[3]||(i[3]=u=>e(t).canonicalUrl=u),placeholder:"example.com/your-post"},null,8,["modelValue"])])]),_:1}),r(d,{label:"Call-to-Action URL"},{default:y(()=>[s("div",ve,[i[7]||(i[7]=s("span",{class:"prefix"},"https://",-1)),r(l,{modelValue:e(t).cta_link,"onUpdate:modelValue":i[4]||(i[4]=u=>e(t).cta_link=u),placeholder:"example.com/get-started"},null,8,["modelValue"])])]),_:1}),r(d,{label:"CTA Button Text"},{default:y(()=>[r(l,{modelValue:e(t).cta_text,"onUpdate:modelValue":i[5]||(i[5]=u=>e(t).cta_text=u),placeholder:"e.g. Read More or Buy Now"},null,8,["modelValue"])]),_:1})])]),default:y(()=>[r(c,{class:"group",label:"Advanced Settings","trailing-icon":"i-lucide-chevron-down",block:"",ui:{trailingIcon:"group-data-[state=open]:rotate-180 transition-transform duration-200"}})]),_:1})}}}),fe=Object.assign(U(ye,[["__scopeId","data-v-f921ede8"]]),{__name:"OrganismsBlogCreateAdvanced"}),we={class:"images-system"},ke={class:"image-wrapper featured"},he={class:"image-wrapper social"},Ie="createBlogFeaturedImage",Ve="createBlogSocialImage",be=V({__name:"Images",setup(f){return(t,p)=>{const i=J;return n(),o("div",we,[s("div",ke,[r(i,{label:"Featured Image","state-key":Ie})]),s("div",he,[r(i,{label:"Social Image","state-key":Ve})])])}}}),Ue=Object.assign(U(be,[["__scopeId","data-v-c5a805f4"]]),{__name:"OrganismsBlogCreateImages"}),Ce={class:"write-system"},Be={class:"editor-container"},$e=V({__name:"Write",setup(f){const{getAuthor:t,generateSlug:p,computeReadingTime:i}=oe(),c=I("createBlogPost");return H(()=>{c.value.author=t()}),M(()=>c.value.title,l=>{c.value.slug=l?p(l):""}),M(()=>c.value.content,l=>{c.value.readingTime=i(l||"")}),(l,d)=>{const g=O,w=K,u=fe,_=Ue;return n(),o("div",Ce,[r(g,{modelValue:e(c).title,"onUpdate:modelValue":d[0]||(d[0]=a=>e(c).title=a),placeholder:"Blog Title"},null,8,["modelValue"]),s("div",Be,[r(w,null,{default:y(()=>[r(e(X),{content:e(c).content,"onUpdate:content":d[1]||(d[1]=a=>e(c).content=a),"content-type":"html",theme:"snow"},null,8,["content"])]),_:1})]),r(u),r(_)])}}}),xe=Object.assign(U($e,[["__scopeId","data-v-2a1d5aa2"]]),{__name:"OrganismsBlogCreateWrite"}),Me={class:"preview-card"},Se={key:0},Ae={key:1,class:"warning"},Oe={key:0},Pe={key:1,class:"warning"},Te={key:0},De={key:1,class:"warning"},Fe={key:0},Ee={key:1,class:"warning"},Re={key:0},je={key:1,class:"warning"},Ke={key:0},Le={key:1,class:"warning"},Ne={key:0,class:"preview-image"},We=["src"],Ge={key:1,class:"warning"},He={key:2,class:"preview-image"},Ye=["src"],qe={key:3,class:"warning"},ze={key:0},Qe={key:1,class:"warning"},Ze={key:0},Je={key:1,class:"warning"},Xe={key:0},et={key:1,class:"warning"},tt=["innerHTML"],nt={key:4,class:"warning"},ot={key:0},st={key:1,class:"warning"},at={key:0},lt={key:1,class:"warning"},it=["href"],rt={key:1,class:"warning"},ct=["href"],dt={key:1,class:"warning"},ut=V({__name:"Preview",setup(f){const t=I("createBlogPost"),p=I("createBlogFeaturedImage"),i=I("createBlogSocialImage"),c=new Date().toISOString(),l=c,d=c,w=Y().public.APP_ID,u=x(()=>ee.sanitize(t.value.content||""));return(_,a)=>{var k;return n(),o("article",Me,[L(m(e(t))+" ",1),s("h1",null,[e(t).title?(n(),o("span",Se,m(e(t).title),1)):(n(),o("em",Ae,"Missing title"))]),s("p",null,[a[0]||(a[0]=s("strong",null,"Slug:",-1)),e(t).slug?(n(),o("span",Oe,m(e(t).slug),1)):(n(),o("em",Pe,"Missing slug"))]),s("p",null,[a[1]||(a[1]=s("strong",null,"Created at:",-1)),e(l)?(n(),o("span",Te,m(e(l)),1)):(n(),o("em",De,"Missing created_at"))]),s("p",null,[a[2]||(a[2]=s("strong",null,"Updated at:",-1)),e(d)?(n(),o("span",Fe,m(e(d)),1)):(n(),o("em",Ee,"Missing updated_at"))]),s("p",null,[a[3]||(a[3]=s("strong",null,"Author:",-1)),(k=e(t).author)!=null&&k.display_name?(n(),o("span",Re,m(e(t).author.display_name),1)):(n(),o("em",je,"Missing author"))]),s("p",null,[a[4]||(a[4]=s("strong",null,"Reading time:",-1)),e(t).readingTime?(n(),o("span",Ke,m(e(t).readingTime),1)):(n(),o("em",Le,"Missing readingTime"))]),e(p)?(n(),o("div",Ne,[s("img",{src:e(p),alt:"Featured image preview"},null,8,We)])):(n(),o("em",Ge,"Missing featured image")),e(i)?(n(),o("div",He,[s("img",{src:e(i),alt:"Social image preview"},null,8,Ye)])):(n(),o("em",qe,"Missing social image")),s("p",null,[a[5]||(a[5]=s("strong",null,"Type:",-1)),e(t).type?(n(),o("span",ze,m(e(t).type),1)):(n(),o("em",Qe,"Missing type"))]),s("p",null,[a[6]||(a[6]=s("strong",null,"App ID:",-1)),e(w)?(n(),o("span",Ze,m(e(w)),1)):(n(),o("em",Je,"Missing appId"))]),s("p",null,[a[7]||(a[7]=s("strong",null,"Meta Description:",-1)),e(t).metaDescription?(n(),o("span",Xe,m(e(t).metaDescription),1)):(n(),o("em",et,"Missing metaDescription"))]),s("section",{innerHTML:u.value},null,8,tt),e(t).content?q("",!0):(n(),o("em",nt,"Missing content")),s("div",null,[a[8]||(a[8]=s("strong",null,"Keywords:",-1)),e(t).keywords.length?(n(),o("ul",ot,[(n(!0),o(S,null,A(e(t).keywords,v=>(n(),o("li",{key:v},m(v),1))),128))])):(n(),o("em",st,"No keywords provided"))]),s("div",null,[a[9]||(a[9]=s("strong",null,"Tags:",-1)),e(t).tags.length?(n(),o("ul",at,[(n(!0),o(S,null,A(e(t).tags,v=>(n(),o("li",{key:v},m(v),1))),128))])):(n(),o("em",lt,"No tags provided"))]),s("p",null,[a[10]||(a[10]=s("strong",null,"Canonical URL:",-1)),e(t).canonicalUrl?(n(),o("a",{key:0,href:e(t).canonicalUrl,target:"_blank",rel:"noopener"},m(e(t).canonicalUrl),9,it)):(n(),o("em",rt,"Missing canonicalUrl"))]),s("p",null,[a[11]||(a[11]=s("strong",null,"CTA link:",-1)),e(t).cta_link?(n(),o("a",{key:0,href:e(t).cta_link,target:"_blank",rel:"noopener"},m(e(t).cta_link),9,ct)):(n(),o("em",dt,"Missing cta_link"))])])}}}),_t=Object.assign(ut,{__name:"OrganismsBlogCreatePreview"}),mt={class:"root-container"},pt={class:"actions"},gt=V({__name:"System",setup(f){const t=b("write"),p=[{label:"Write",icon:"i-lucide-edit",value:"write",slot:"write"},{label:"Preview",icon:"i-lucide-eye",value:"preview",slot:"preview"}],i=I("createBlogPost",()=>({title:"",content:"",metaDescription:"",slug:"",author:{display_name:"",handle:"",avatar:"",id:""},keywords:[],tags:[],canonicalUrl:"",featuredImage:"",socialImage:"",readingTime:"",cta_link:"",type:"article",cta_text:""})),c=I("createBlogFeaturedImageFile",()=>null),l=I("createBlogSocialImageFile",()=>null),{createBlogPost:d}=se(),{updateBlogPost:g}=ae();async function w(){const{uploadImage:u}=ie(),_=await d(i.value);i.value.slug=_;const a=await u({file:c.value,collection:"blogs",id:_,type:"featured"}),k=await u({file:l.value,collection:"blogs",id:_,type:"social"});await g(_,{featuredImage:a||"",socialImage:k||""});try{console.log("Blog post created and updated with images, ID:",_)}catch(v){console.error("Error updating blog post images:",v)}}return(u,_)=>{const a=xe,k=_t,v=le,C=j;return n(),o("div",mt,[r(v,{modelValue:e(t),"onUpdate:modelValue":_[0]||(_[0]=$=>z(t)?t.value=$:null),items:p},{write:y(()=>[r(a)]),preview:y(()=>[r(k)]),_:1},8,["modelValue"]),s("div",pt,[r(C,{onClick:w},{default:y(()=>_[1]||(_[1]=[L("Create Blog Post")])),_:1})])])}}}),vt=Object.assign(U(gt,[["__scopeId","data-v-4d1d81fc"]]),{__name:"OrganismsBlogCreateSystem"}),yt={class:"dashboard-page-grid"},Bt={__name:"blog",setup(f){const{label:t,icon:p}=Q("/admin/blog");return(i,c)=>{const l=vt,d=K;return n(),R(d,null,{default:y(()=>[s("div",yt,[r(l,{class:"dashboard-grid-section"})])]),_:1})}}};export{Bt as default};
