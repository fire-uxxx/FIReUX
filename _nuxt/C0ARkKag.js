import{ad as c,ae as d,af as m,P as f,N as l,ag as P,ah as w,ai as u,aj as b}from"./CoChPsuk.js";function y(){const o=c();function n(r=0){const e=d(m(o,"blogs"));return f(()=>{const s=e.value||[];return r>0?s.slice(0,r):s})}return{blogPostsCollection:n}}function h(){const o=l(),{addSluggedDocument:n}=P(),r=t=>t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""),e={keywords:["FireUX","UX","Web Development","Firebase"],tags:["FireUX","Web Development"],canonicalUrl:"",featuredImage:"/img/logo-type-dark.png",socialImage:"/img/logo-type-dark.png",readingTime:"3 min"};async function s(t){if(!t.title)return Promise.reject("[createBlogPost] Title is required.");const i=t.slug||r(t.title);if(!o.value)return Promise.reject("No authenticated user");const g={metaDescription:t.metaDescription||t.content.slice(0,160),keywords:t.keywords||e.keywords,tags:t.tags||e.tags,canonicalUrl:t.canonicalUrl||e.canonicalUrl,featuredImage:t.featuredImage||e.featuredImage,socialImage:t.socialImage||e.socialImage,readingTime:t.readingTime||e.readingTime};try{const a=await n("blogs",{...t,slug:i,userId:o.value.uid,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),author:o.value.displayName||"Anonymous",...g});return console.log(`Blog post created with slug: ${a}`),a}catch(a){throw console.error("[createBlogPost] Error creating blog post:",a),a}}return{createBlogPost:s}}function B(){const o=c(),n=l();async function r(e){if(!e)throw new Error("No blog post ID provided.");return n.value?await w(u(o,"blogs",e)).then(()=>(console.log("✅ Blog Post Deleted Successfully"),!0)):Promise.reject("No authenticated user")}return{deleteBlogPost:r}}function p(){const o=c(),n=l();async function r(e,s){if(!e)throw new Error("No BlogPost ID provided.");if(!s||typeof s!="object")throw new Error("Invalid update payload. Must be an object.");return n.value?await b(u(o,"blogs",e),s).then(()=>(console.log(`✅ BlogPost Updated Successfully: ${JSON.stringify(s)}`),!0)):Promise.reject("No authenticated user")}return{updateBlogPost:r}}function U(){const o=y(),n=h(),r=B(),e=p();return{...o,...n,...r,...e}}export{U as u};
