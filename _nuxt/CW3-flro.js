import{u as i,a as c}from"./D_yp_cz6.js";import{a3 as g,P as f}from"./B5KPFDU5.js";function d(){const{createDocument:r}=i();return{createBlogPost:async t=>r("blogs",t)}}function m(){const{deleteDocument:r}=c();async function n(t){if(!t)throw new Error("No blog post slug provided.");try{return await r("blogs",t),console.log("✅ Blog Post Deleted Successfully"),!0}catch(o){throw console.error("❌ Error Deleting Blog Post:",o),o}}return{deleteBlogPost:n}}function p(){const{updateDocument:r}=c();async function n(t,o){if(!t)throw new Error("No BlogPost ID provided.");if(!o||typeof o!="object")throw new Error("Invalid update payload. Must be an object.");try{return await r("blogs",t,o),console.log(`✅ BlogPost Updated Successfully: ${JSON.stringify(o)}`),!0}catch(e){throw console.error("❌ Error Updating BlogPost:",e),e}}return{updateBlogPost:n}}function P(){function r(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")}function n(e){const s=(e==null?void 0:e.replace(/<[^>]*>/g,"").trim())||"";return`${Math.ceil((s.split(/\s+/).length||0)/200)} min`}function t(){var s,a,l,u;const{user:e}=g();return{display_name:((s=e.value)==null?void 0:s.display_name)||"",handle:((a=e.value)==null?void 0:a.handle)||"",avatar:((l=e.value)==null?void 0:l.avatar)||"",id:((u=e.value)==null?void 0:u.id)||""}}function o(){return{featuredImage:"/img/logo-type-dark.png",socialImage:"/img/logo.png"}}return{generateSlug:r,computeReadingTime:n,getAuthor:t,getDefaultImages:o}}function w(){const{firestoreFetchCollection:r,firestoreFetchDoc:n}=c(),{collectionData:t}=r("blogs"),o=f(()=>{var s;return(s=t.value)==null?void 0:s.slice().sort((a,l)=>new Date(l.created_at).getTime()-new Date(a.created_at).getTime())});function e(s){return n("blogs",s)}return{blogPostsCollection:o,fetchBlogPost:e,...d(),...m(),...p(),...P()}}export{d as a,p as b,w as u};
