import{j as V,r as i,N as E,c as m,e as _,h as s,g as o,f as w,a9 as x,w as t,C as h,S as C,I as N,t as g,am as A,an as B,ac as M,G as P,ao as F,a8 as I,ap as S,ab as O,H as q}from"./CoChPsuk.js";import{_ as $}from"./DMvWPNsu.js";const D={class:"account-email"},G={key:0,class:"success"},R={key:1,class:"error"},T={__name:"OrganismsUserAccountEmail",setup(U){const d=i(""),n=i(""),l=i(""),e=E();async function c(){n.value="",l.value="";try{if(!e.value)throw new Error("No user signed in");await A(e.value,d.value),n.value="✅ Email updated successfully."}catch(u){l.value=`❌ ${u.message}`}}async function r(){n.value="",l.value="";try{if(!e.value)throw new Error("No user signed in");await B(e.value),n.value="✅ Verification email sent."}catch(u){l.value=`❌ ${u.message}`}}return(u,a)=>{var f;const v=x,p=C;return _(),m("div",D,[a[3]||(a[3]=s("h3",null,"Update Email",-1)),o(v,{modelValue:d.value,"onUpdate:modelValue":a[0]||(a[0]=y=>d.value=y),placeholder:"Enter new email",type:"email",class:"input"},null,8,["modelValue"]),o(p,{onClick:c,disabled:!d.value,color:"primary",class:"button"},{default:t(()=>a[1]||(a[1]=[h(" Update Email ")])),_:1},8,["disabled"]),o(p,{onClick:r,disabled:!((f=N(e))!=null&&f.email),color:"secondary",class:"button"},{default:t(()=>a[2]||(a[2]=[h(" Send Verification Email ")])),_:1},8,["disabled"]),n.value?(_(),m("p",G,g(n.value),1)):w("",!0),l.value?(_(),m("p",R,g(l.value),1)):w("",!0)])}}},j=V(T,[["__scopeId","data-v-aaf2d911"]]),H={key:0,class:"error"},z={key:1,class:"success"},J={__name:"OrganismsUserAccountPassword",setup(U){const d=E(),n=i(""),l=i(""),e=i(""),c=i("");async function r(){if(e.value="",c.value="",n.value!==l.value){e.value="Passwords do not match.";return}if(!d.value){e.value="No authenticated user found.";return}try{await S(d.value,n.value),c.value="Password updated successfully.",n.value="",l.value=""}catch(u){e.value=u.message}}return(u,a)=>{const v=x,p=M("UFormGroup"),f=C,y=F,k=$;return _(),P(k,null,{default:t(()=>[a[3]||(a[3]=s("h2",null,"Change Password",-1)),a[4]||(a[4]=s("p",{class:"description"},"Update your account password below.",-1)),o(y,{class:"form",onSubmit:I(r,["prevent"])},{default:t(()=>[o(p,{label:"New Password",name:"new-password"},{default:t(()=>[o(v,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=b=>n.value=b),type:"password",placeholder:"Enter new password",required:""},null,8,["modelValue"])]),_:1}),o(p,{label:"Confirm Password",name:"confirm-password"},{default:t(()=>[o(v,{modelValue:l.value,"onUpdate:modelValue":a[1]||(a[1]=b=>l.value=b),type:"password",placeholder:"Confirm new password",required:""},null,8,["modelValue"])]),_:1}),o(f,{type:"submit",color:"primary",block:""},{default:t(()=>a[2]||(a[2]=[h("Update Password")])),_:1})]),_:1}),e.value?(_(),m("p",H,g(e.value),1)):w("",!0),c.value?(_(),m("p",z,g(c.value),1)):w("",!0)]),_:1})}}},K=V(J,[["__scopeId","data-v-ed40b76c"]]),L={class:"dashboard-page-grid"},Q={class:"dashboard-grid-section"},W={class:"dashboard-grid-section"},X={class:"dashboard-grid-section"},Y={class:"dashboard-grid-section"},Z={class:"dashboard-grid-section"},ee={class:"dashboard-grid-section"},oe={__name:"account",setup(U){const{label:d,icon:n}=O("/dashboard/account");return(l,e)=>{const c=j,r=$,u=K,a=q;return _(),P(a,null,{default:t(()=>[s("div",L,[s("div",Q,[o(r,null,{default:t(()=>[o(c)]),_:1})]),s("div",W,[o(r,null,{default:t(()=>[o(u)]),_:1})]),s("div",X,[o(r,null,{default:t(()=>e[0]||(e[0]=[s("h2",null,"Two-Factor Authentication",-1),s("p",null,"Enable or manage two-factor authentication settings.",-1)])),_:1})]),s("div",Y,[o(r,null,{default:t(()=>e[1]||(e[1]=[s("h2",null,"Account Activity",-1),s("p",null,"View recent logins and activity on your account.",-1)])),_:1})]),s("div",Z,[o(r,null,{default:t(()=>e[2]||(e[2]=[s("h2",null,"Connected Devices",-1),s("p",null,"Review and manage devices currently logged into your account.",-1)])),_:1})]),s("div",ee,[o(r,null,{default:t(()=>e[3]||(e[3]=[s("h2",null,"Delete Account",-1),s("p",null,"Request permanent deletion of your account and associated data.",-1)])),_:1})])])]),_:1})}}};export{oe as default};
