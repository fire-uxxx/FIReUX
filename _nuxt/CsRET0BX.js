import{u as i,a as u}from"./BSIJ0IGl.js";import{b2 as g,P as d}from"./DLnnSrV4.js";function f(){const{addSluggedDocument:r}=i();return{createBlogPost:async o=>r("blogPosts",o)}}function m(){const{deleteDocument:r}=u();async function n(o){if(!o)throw new Error("No blog post slug provided.");try{return await r("blogs",o),console.log("✅ Blog Post Deleted Successfully"),!0}catch(t){throw console.error("❌ Error Deleting Blog Post:",t),t}}return{deleteBlogPost:n}}function p(){const{updateDocument:r}=u();async function n(o,t){if(!o)throw new Error("No BlogPost ID provided.");if(!t||typeof t!="object")throw new Error("Invalid update payload. Must be an object.");try{return await r("blogs",o,t),console.log(`✅ BlogPost Updated Successfully: ${JSON.stringify(t)}`),!0}catch(e){throw console.error("❌ Error Updating BlogPost:",e),e}}return{updateBlogPost:n}}function P(){function r(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")}function n(e){const s=(e==null?void 0:e.replace(/<[^>]*>/g,"").trim())||"";return`${Math.ceil((s.split(/\s+/).length||0)/200)} min`}function o(){var s,l,a,c;const{user:e}=g();return{display_name:((s=e.value)==null?void 0:s.display_name)||"",handle:((l=e.value)==null?void 0:l.handle)||"",avatar:((a=e.value)==null?void 0:a.avatar)||"",id:((c=e.value)==null?void 0:c.id)||""}}function t(){return{featuredImage:"/img/logo-type-dark.png",socialImage:"/img/logo.png"}}return{generateSlug:r,computeReadingTime:n,getAuthor:o,getDefaultImages:t}}function w(){const{firestoreFetchCollection:r,firestoreFetchDoc:n}=u(),{collectionData:o}=r("blogs"),t=d(()=>{var s;return(s=o.value)==null?void 0:s.slice().sort((l,a)=>new Date(a.created_at).getTime()-new Date(l.created_at).getTime())});function e(s){return n("blogs",s)}return{blogPostsCollection:t,fetchBlogPost:e,...f(),...m(),...p(),...P()}}export{w as u};
