import{j as V,r as i,N as E,c as m,i as _,g as a,f as o,e as w,Z as x,w as t,C as U,S as C,I as N,t as g,br as A,bs as B,bt as M,G as P,bu as F,av as I,bv as S,a2 as O,H as q}from"./dtMaA3lo.js";import{_ as $}from"./SzPEvF2h.js";const D={class:"account-email"},G={key:0,class:"success"},R={key:1,class:"error"},T={__name:"OrganismsUserAccountEmail",setup(h){const d=i(""),n=i(""),l=i(""),e=E();async function c(){n.value="",l.value="";try{if(!e.value)throw new Error("No user signed in");await A(e.value,d.value),n.value="✅ Email updated successfully."}catch(u){l.value=`❌ ${u.message}`}}async function r(){n.value="",l.value="";try{if(!e.value)throw new Error("No user signed in");await B(e.value),n.value="✅ Verification email sent."}catch(u){l.value=`❌ ${u.message}`}}return(u,s)=>{var f;const v=x,p=C;return _(),m("div",D,[s[3]||(s[3]=a("h3",null,"Update Email",-1)),o(v,{modelValue:d.value,"onUpdate:modelValue":s[0]||(s[0]=b=>d.value=b),placeholder:"Enter new email",type:"email",class:"input"},null,8,["modelValue"]),o(p,{onClick:c,disabled:!d.value,color:"primary",class:"button"},{default:t(()=>s[1]||(s[1]=[U(" Update Email ")])),_:1},8,["disabled"]),o(p,{onClick:r,disabled:!((f=N(e))!=null&&f.email),color:"secondary",class:"button"},{default:t(()=>s[2]||(s[2]=[U(" Send Verification Email ")])),_:1},8,["disabled"]),n.value?(_(),m("p",G,g(n.value),1)):w("",!0),l.value?(_(),m("p",R,g(l.value),1)):w("",!0)])}}},j=V(T,[["__scopeId","data-v-aaf2d911"]]),H={key:0,class:"error"},Z={key:1,class:"success"},z={__name:"OrganismsUserAccountPassword",setup(h){const d=E(),n=i(""),l=i(""),e=i(""),c=i("");async function r(){if(e.value="",c.value="",n.value!==l.value){e.value="Passwords do not match.";return}if(!d.value){e.value="No authenticated user found.";return}try{await S(d.value,n.value),c.value="Password updated successfully.",n.value="",l.value=""}catch(u){e.value=u.message}}return(u,s)=>{const v=x,p=M("UFormGroup"),f=C,b=F,k=$;return _(),P(k,null,{default:t(()=>[s[3]||(s[3]=a("h2",null,"Change Password",-1)),s[4]||(s[4]=a("p",{class:"description"},"Update your account password below.",-1)),o(b,{class:"form",onSubmit:I(r,["prevent"])},{default:t(()=>[o(p,{label:"New Password",name:"new-password"},{default:t(()=>[o(v,{modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=y=>n.value=y),type:"password",placeholder:"Enter new password",required:""},null,8,["modelValue"])]),_:1}),o(p,{label:"Confirm Password",name:"confirm-password"},{default:t(()=>[o(v,{modelValue:l.value,"onUpdate:modelValue":s[1]||(s[1]=y=>l.value=y),type:"password",placeholder:"Confirm new password",required:""},null,8,["modelValue"])]),_:1}),o(f,{type:"submit",color:"primary",block:""},{default:t(()=>s[2]||(s[2]=[U("Update Password")])),_:1})]),_:1}),e.value?(_(),m("p",H,g(e.value),1)):w("",!0),c.value?(_(),m("p",Z,g(c.value),1)):w("",!0)]),_:1})}}},J=V(z,[["__scopeId","data-v-ed40b76c"]]),K={class:"dashboard-page-grid"},L={class:"dashboard-grid-section"},Q={class:"dashboard-grid-section"},W={class:"dashboard-grid-section"},X={class:"dashboard-grid-section"},Y={class:"dashboard-grid-section"},ee={class:"dashboard-grid-section"},oe={__name:"account",setup(h){const{label:d,icon:n}=O("/dashboard/account");return(l,e)=>{const c=j,r=$,u=J,s=q;return _(),P(s,null,{default:t(()=>[a("div",K,[a("div",L,[o(r,null,{default:t(()=>[o(c)]),_:1})]),a("div",Q,[o(r,null,{default:t(()=>[o(u)]),_:1})]),a("div",W,[o(r,null,{default:t(()=>e[0]||(e[0]=[a("h2",null,"Two-Factor Authentication",-1),a("p",null,"Enable or manage two-factor authentication settings.",-1)])),_:1})]),a("div",X,[o(r,null,{default:t(()=>e[1]||(e[1]=[a("h2",null,"Account Activity",-1),a("p",null,"View recent logins and activity on your account.",-1)])),_:1})]),a("div",Y,[o(r,null,{default:t(()=>e[2]||(e[2]=[a("h2",null,"Connected Devices",-1),a("p",null,"Review and manage devices currently logged into your account.",-1)])),_:1})]),a("div",ee,[o(r,null,{default:t(()=>e[3]||(e[3]=[a("h2",null,"Delete Account",-1),a("p",null,"Request permanent deletion of your account and associated data.",-1)])),_:1})])])]),_:1})}}};export{oe as default};
